# gulp-css-js-md

Стартовая конфигурация gulpfile.js и package.json для обработки SCSS, минификации и генерациии CSS файлов. Обработка JS файлов, минификация. Преобразования Markdown файлов в Html файлы со стилями GitHub.

## Что конфигурация может делать

Все задачи Gulp распределены по своим файлам и лежат в папке `.gulp-tasks`. Это удобно для того, чтобы не засорять один файл кучей кода и легко настраивать отдельные задачи под конкретные действия. В каждом файле-задаче есть метод, в котором нужно прописывать пути к обрабатываемым файлам. Для стартовой конфигурации этого достаточно. Под конкретный проект можно обрабатываемые папки и файлы вынести в отдельный глобальный ассоциативный массив и обращаться к нему.

### SCSS файлы

1. преобразуются из SCSS в CSS;
2. автоматически добавляются префиксы для 2-х последних версий браузеров с >1% долей юзеров и не являющимися мёртвыми (задаётся в package.json);
3. минифицируются, очищаются от комментариев;
4. формируются map`ы на исходные файлы (отключается комментирование строки); 
5. полученные файлы складываются там же, где исходные с расширением `.css` и `.css.map`.

### JS-файлы

1. преобразовываются из современных стандартов ECMAScript (es2015, es2016, es2017) в старую версию, совместимую с большинством браузеров (можно более тонко настроить. По умолчанию используется env-preset babel`а);
2. минифицируются, очищаются от комментариев;
3. формируются map`ы на исходные файлы;
4. полученные файлы складываются там же, где исходные с расширением `.min.js` и `.min.js.map`.

### Markdown файлы

1. преобразование Markdown файлов (`.md`) в Html версию;
2. применяются стили повторяющие Markdown GitHub.com;
3. полученные файлы складываются там же, где исходные с расширением `.html`.

## Использование сторонних пакетов

### Для генерации CSS-файлов

1. gulp-plumber;
2. gulp-sass;
3. gulp-clean-css;
4. gulp-autoprefixer;
5. gulp-sourcemaps;
6. gulp-rename - отключено закомментированными строками;
7. normalize.css - можно подключать в SCSS-файле импортом `@import "node_modules/normalize.css/normalize"`;
8. breakpoint-sass - можно подключать в SCSS-файле импортом `@import "node_modules/breakpoint-sass/stylesheets/breakpoint"`.

### Для генерации JS-файлов

1. gulp-babel;
2. gulp-uglify;
3. gulp-sourcemaps;
4. gulp-rename.

### Для генерации Html файлов из Markdown текста

1. gulp-markdown-github-style;
2. gulp-rename.

## Установка

Я использую этот "стартовый" конфиг для работы с проектами под системой управления 1С-Битрикс. Чтобы установить конфиг:

1. Если не установлен `Node.js`, что можно проверить командой `node -v`, то переходим на сайт (https://nodejs.org/en/)[https://nodejs.org/en/], скачиваем и устанавливаем. Проверялось на версии `v12.18.0`;
2. Скопировать файлы `gulpfile.js`, `package.json` и папку `.gulp-tasks` в корень проекта;
3. Исключить файлы `gulpfile.js`, `package.json` и папку `.gulp-tasks`;
4. Выполнить в папке проекта, в терминале команду `npm install` для установки зависимостей;
5. Запускать вручную задачи `gulp css`, `gulp md` или `gulp js` в терминале. Удобнее использовать встроенные возможности IDE и запускать прямо из среды разработки. Например, для JetBrains Phpstorm есть дополнительное окошко `Gulp Tasks`.

## Планы

В будущем собираюсь изучать современные пакеты gulp для работы с scss, css, js, markdown, md файлами. Возможно напишу свою версию `gulp-markdown-github-style` с различными шаблонами.

## License

This project is licensed under the MIT License - see the [LICENSE.txt](LICENSE.txt) file for details